<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <h1>表单验证</h1>
    <hr>

    <form action="1.php" name="regForm" method="post" onsubmit="return checkForm()">
        <table>
            <tr>
                <td>邮箱: </td>
                <td><input type="text" name="email" onblur="checkEmail()"></td>
                <td id="etab">* 必填项,请输入常用邮箱</td>
            </tr>
            <tr>
                <td>用户名: </td>
                <td><input type="text" name="user" onblur="checkUser()"></td>
                <td id="utab">* 必填项,请输入用户名(6-12位,数字字母下划线)</td>
            </tr>
            <tr>
                <td>密码: </td>
                <td><input type="password" name="pass" onblur="checkPass()"></td>
                <td id="ptab">* 必填项,请输入6-18位的密码</td>
            </tr>
            <tr>
                <td>确认密码: </td>
                <td><input type="password" name="repass" onblur="checkRepass()"></td>
                <td id="rptab">* 必填项,请再输入一次</td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" value="注册"></td>
            </tr>
        </table>
    </form>
    

    <script>
        //邮箱
        function checkEmail(){
            var email = document.regForm.email.value;
            var etab = document.getElementById('etab');

            if (email.match(/^[\w-]+@[\w-]+(\.\w+){1,3}$/) == null) {
                etab.innerHTML = "* 邮箱格式不正确";
                etab.style.color = "#f00";
                return false;
            }else{
                etab.innerHTML = "* 通过验证!";
                etab.style.color = "#0a0";
                return true;
            }
        }

        //用户
        function checkUser(){
            var user = document.regForm.user.value;
            var utab = document.getElementById('utab');

            if (user.match(/^\w{6,12}$/) == null) {
                utab.innerHTML = "* 用户名必须是: 6-12位,数字字母下划线";
                utab.style.color = "#f00";
                return false;
            }else{
                utab.innerHTML = "* 通过验证!";
                utab.style.color = "#0a0";
                return true;
            }
        }

        //密码
        function checkPass(){
            var pass = document.regForm.pass.value;
            var ptab = document.getElementById('ptab');

            if (pass.length < 6 || pass.length > 18 ) {
                ptab.innerHTML = "* 密码不合法,必须是6-18位";
                ptab.style.color = "#f00";
                return false;
            }else{
                ptab.innerHTML = "* 通过验证!";
                ptab.style.color = "#0a0";
                return true;
            }
        }

        //密码
        function checkRepass(){
            var pass = document.regForm.pass.value;
            var repass = document.regForm.repass.value;
            var rptab = document.getElementById('rptab');

            if (pass !== repass) {
                rptab.innerHTML = "* 两次密码不一致";
                rptab.style.color = "#f00";
                return false;
            }else{
                rptab.innerHTML = "* 通过验证!";
                rptab.style.color = "#0a0";
                return true;
            }
        }

        function checkForm(){
            return checkEmail() && checkUser() && checkPass() && checkRepass();
        }

       


    </script>
</body>
</html>
